{
  "$id": "telemetry_v1.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "properties": {
    "counts": {
      "additionalProperties": false,
      "properties": {
        "artifacts_csv": {
          "minimum": 1,
          "type": "integer"
        },
        "events": {
          "minimum": 2,
          "type": "integer"
        }
      },
      "required": [
        "events",
        "artifacts_csv"
      ],
      "type": "object"
    },
    "crop_circle": {
      "additionalProperties": false,
      "properties": {
        "rotation": {
          "additionalProperties": false,
          "properties": {
            "max_absDiffToR_all": {
              "minimum": 0,
              "type": [
                "number",
                "null"
              ]
            },
            "max_absDiff_all": {
              "minimum": 0,
              "type": [
                "number",
                "null"
              ]
            },
            "okAll": {
              "type": [
                "boolean",
                "null"
              ]
            }
          },
          "required": [
            "max_absDiff_all",
            "max_absDiffToR_all",
            "okAll"
          ],
          "type": "object"
        }
      },
      "required": [
        "rotation"
      ],
      "type": "object"
    },
    "generated_utc": {
      "type": "string"
    },
    "guft": {
      "additionalProperties": false,
      "properties": {
        "E": {
          "maximum": 1,
          "minimum": 0,
          "type": [
            "number",
            "null"
          ]
        },
        "T": {
          "maximum": 1,
          "minimum": 0,
          "type": [
            "number",
            "null"
          ]
        },
        "deltaS": {
          "type": [
            "number",
            "null"
          ]
        },
        "psi": {
          "maximum": 1,
          "minimum": 0,
          "type": [
            "number",
            "null"
          ]
        }
      },
      "required": [
        "E",
        "T",
        "psi",
        "deltaS"
      ],
      "type": "object"
    },
    "music": {
      "additionalProperties": false,
      "properties": {
        "major": {
          "additionalProperties": false,
          "properties": {
            "summary_ok": {
              "type": [
                "boolean",
                "null"
              ]
            }
          },
          "required": [
            "summary_ok"
          ],
          "type": "object"
        },
        "minor": {
          "additionalProperties": false,
          "properties": {
            "summary_ok": {
              "type": [
                "boolean",
                "null"
              ]
            }
          },
          "required": [
            "summary_ok"
          ],
          "type": "object"
        }
      },
      "required": [
        "major",
        "minor"
      ],
      "type": "object"
    },
    "run_id": {
      "pattern": "^[0-9a-f]{12}$",
      "type": "string"
    },
    "schema_version": {
      "const": "telemetry.v1",
      "type": "string"
    },
    "telemetry_ok": {
      "additionalProperties": false,
      "properties": {
        "all_ok": {
          "type": "boolean"
        },
        "crop_rotation_ok": {
          "type": "boolean"
        },
        "music_major_summary_ok": {
          "type": "boolean"
        },
        "music_minor_summary_ok": {
          "type": "boolean"
        }
      },
      "required": [
        "crop_rotation_ok",
        "music_major_summary_ok",
        "music_minor_summary_ok",
        "all_ok"
      ],
      "type": "object"
    },
    "timings": {
      "additionalProperties": false,
      "properties": {
        "step_duration_sec": {
          "additionalProperties": {
            "minimum": 0,
            "type": "number"
          },
          "type": "object"
        }
      },
      "required": [
        "step_duration_sec"
      ],
      "type": "object"
    },
    "tree_of_life": {
      "additionalProperties": false,
      "properties": {
        "E_mean": {
          "maximum": 1,
          "minimum": 0,
          "type": [
            "number",
            "null"
          ]
        },
        "T_mean": {
          "maximum": 1,
          "minimum": 0,
          "type": [
            "number",
            "null"
          ]
        },
        "band_counts": {
          "additionalProperties": {
            "minimum": 0,
            "type": "integer"
          },
          "type": "object"
        },
        "n_rows": {
          "minimum": 0,
          "type": "integer"
        },
        "psi_max": {
          "maximum": 1,
          "minimum": 0,
          "type": [
            "number",
            "null"
          ]
        },
        "psi_mean": {
          "maximum": 1,
          "minimum": 0,
          "type": [
            "number",
            "null"
          ]
        },
        "psi_min": {
          "maximum": 1,
          "minimum": 0,
          "type": [
            "number",
            "null"
          ]
        }
      },
      "required": [
        "band_counts",
        "n_rows",
        "E_mean",
        "T_mean",
        "psi_min",
        "psi_max",
        "psi_mean"
      ],
      "type": "object"
    }
  },
  "required": [
    "counts",
    "crop_circle",
    "generated_utc",
    "guft",
    "music",
    "run_id",
    "schema_version",
    "telemetry_ok",
    "timings",
    "tree_of_life"
  ],
  "title": "CoherenceLattice Telemetry Metrics v1 (generated)",
  "type": "object"
}
